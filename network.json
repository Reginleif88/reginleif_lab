{
  "domain": "reginleif.io",
  "netbios": "REGINLEIF",
  "vlans": {
    "1": {
      "id": 1,
      "name": "Default/Unused",
      "description": "Blackhole VLAN (untagged on trunks, no IPs assigned)",
      "hq_subnet": "N/A",
      "branch_subnet": "N/A",
      "dhcp": false
    },
    "5": {
      "id": 5,
      "name": "Infrastructure",
      "description": "Domain Controllers only",
      "hq_subnet": "172.16.5.0/24",
      "branch_subnet": "172.17.5.0/24",
      "dhcp": false
    },
    "10": {
      "id": 10,
      "name": "Clients",
      "description": "Windows 10/11 workstations",
      "hq_subnet": "172.16.10.0/24",
      "branch_subnet": "172.17.10.0/24",
      "dhcp": true,
      "dhcp_range": ".30-.254"
    },
    "20": {
      "id": 20,
      "name": "Servers",
      "description": "Member servers (Royal Server, WDS, etc.)",
      "hq_subnet": "172.16.20.0/24",
      "branch_subnet": "172.17.20.0/24",
      "dhcp": false
    },
    "99": {
      "id": 99,
      "name": "Management",
      "description": "Admin access, out-of-band management",
      "hq_subnet": "172.16.99.0/24",
      "branch_subnet": "172.17.99.0/24",
      "dhcp": false
    }
  },
  "sites": {
    "hq": {
      "id": "hq",
      "name": "HQ (Proxmox)",
      "wan": "192.168.1.240",
      "vlans": {
        "5": { "subnet": "172.16.5.0/24", "gateway": "172.16.5.1" },
        "10": { "subnet": "172.16.10.0/24", "gateway": "172.16.10.1" },
        "20": { "subnet": "172.16.20.0/24", "gateway": "172.16.20.1" },
        "99": { "subnet": "172.16.99.0/24", "gateway": "172.16.99.1" }
      },
      "devices": [
        {
          "id": "opnsense-hq",
          "name": "OPNsenseHQ",
          "ip": "172.16.5.1",
          "role": "Gateway/Firewall",
          "icon": "shield",
          "vlan": 5,
          "description": "Primary firewall and router for HQ site"
        },
        {
          "id": "dc1",
          "name": "P-WIN-DC1",
          "ip": "172.16.5.10",
          "role": "Domain Controller",
          "icon": "server",
          "vlan": 5,
          "description": "Primary DC, DNS, DHCP, Forest Root"
        },
        {
          "id": "srv1",
          "name": "P-WIN-SRV1",
          "ip": "172.16.20.11",
          "role": "Royal Server",
          "icon": "monitor",
          "vlan": 20,
          "description": "Remote access gateway"
        },
        {
          "id": "srv2",
          "name": "P-WIN-SRV2",
          "ip": "172.16.20.12",
          "role": "WDS/MDT, AD CS, KMS",
          "icon": "server",
          "vlan": 20,
          "description": "Windows Deployment Services, Certificate Authority, Key Management Service"
        }
      ]
    },
    "branch": {
      "id": "branch",
      "name": "Branch (Hyper-V)",
      "wan": "192.168.1.245",
      "vlans": {
        "5": { "subnet": "172.17.5.0/24", "gateway": "172.17.5.1" },
        "10": { "subnet": "172.17.10.0/24", "gateway": "172.17.10.1" },
        "20": { "subnet": "172.17.20.0/24", "gateway": "172.17.20.1" },
        "99": { "subnet": "172.17.99.0/24", "gateway": "172.17.99.1" }
      },
      "devices": [
        {
          "id": "opnsense-branch",
          "name": "OPNsenseBranch",
          "ip": "172.17.5.1",
          "role": "Gateway/Firewall",
          "icon": "shield",
          "vlan": 5,
          "description": "Primary firewall for Branch site"
        },
        {
          "id": "dc2",
          "name": "H-WIN-DC2",
          "ip": "172.17.5.10",
          "role": "Domain Controller",
          "icon": "server",
          "vlan": 5,
          "description": "Secondary DC, DNS, DHCP for Branch site"
        }
      ]
    },
    "cloud": {
      "id": "cloud",
      "name": "Cloud",
      "subnet": "",
      "gateway": "",
      "wan": "",
      "devices": []
    },
    "wg-peers": {
      "id": "wg-peers",
      "name": "WireGuard Peers",
      "subnet": "10.200.0.0/24",
      "gateway": "",
      "wan": "",
      "devices": [
        {
          "id": "admin-pc",
          "name": "Admin PC",
          "ip": "10.200.0.10",
          "role": "Road Warrior",
          "icon": "monitor",
          "description": "Admin Workstation (Home LAN)"
        }
      ]
    }
  },
  "tunnel": {
    "name": "WireGuard VPN",
    "protocol": "WireGuard",
    "port": 51820,
    "subnet": "10.200.0.0/24",
    "endpoints": {
      "hq": {
        "wan": "192.168.1.240",
        "tunnel": "10.200.0.1"
      },
      "branch": {
        "wan": "192.168.1.245",
        "tunnel": "10.200.0.2"
      }
    },
    "routes": {
      "hq_to_branch": ["172.17.5.0/24", "172.17.10.0/24", "172.17.20.0/24", "172.17.99.0/24"],
      "branch_to_hq": ["172.16.5.0/24", "172.16.10.0/24", "172.16.20.0/24", "172.16.99.0/24"]
    },
    "peer_routes": {
      "peers_to_hq": "172.16.0.0/16",
      "peers_to_branch": "172.17.0.0/16",
      "peers_to_tunnel": "10.200.0.0/24"
    }
  },
  "trusted_networks": [
    "172.16.5.0/24",
    "172.16.10.0/24",
    "172.16.20.0/24",
    "172.16.99.0/24",
    "172.17.5.0/24",
    "172.17.10.0/24",
    "172.17.20.0/24",
    "172.17.99.0/24",
    "10.200.0.0/24"
  ]
}
